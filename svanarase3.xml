<!-- Name: Shreyyas Vanarase
	 CS 2340
	 Build XML File 
-->

<project name="ShreyyasXML" basedir="." default="all">
    
    <target name="init">
        <property name="sourceLocation.dir" 	value="M4/src/edu/gatech/oad/antlab"/>
        <property name="buildLocation.dir" 		location="build"/>
        <property name="libraryLocation.dir" 	value="M4/lib/resources.jar"/>
    	<property name="apidocLocation.dir" 	location="apidoc"/>
    </target>
    
    <target name="prepare" depends="init">
    	<mkdir dir="${buildLocation.dir}"/>
    	<mkdir dir="${apidocLocation.dir}"/>
    </target>
    
    <target name="compile" depends="prepare">
    	<javac destdir="${buildLocation.dir}">
    		  <src path="${sourceLocation.dir}"/> 
	    	  <classpath>
	    	      <pathelement path="${buildLocation.dir}"/>
	    	  	  <pathelement path="${libraryLocation.dir}"/>
    	  	  </classpath>
	    </javac> 	        
    </target>
    
    <target name="javadoc" depends="compile">
    	<javadoc sourcepath="${sourceLocation.dir}" access="public" destdir="${apidoc.dir}"
    		packagenames="edu.gatech.oad.antlab.person">
    		<fileset dir="${sourceLocation.dir}">
    			  <include name="**/*.java"/>
    		</fileset>
            <classpath>
                <pathelement path="${libraryLocation.dir}"/>
            </classpath>	
		</javadoc>
    </target>
    
    <target name="jar" depends="javadoc">
    	<jar destfile="AntLabRun.jar">
    		<fileset dir="${buildLocation.dir}"/>
        	<manifest>
            	<attribute name="Main-Class" value="edu/gatech/oad/antlab/pkg1/AntLabMain"/>
            	<attribute name="Class-Path" value="${libraryLocation.dir}" />
        	</manifest>
    	</jar>
    </target>
	
    <target name="run" depends="jar">
    	<java jar="AntLabRun.jar" fork="true">
        	<classpath>
            	<pathelement path="${libraryLocation.dir}"/>
        	</classpath>
    	</java>
    </target>
    
    <target name="all" depends="clean"/>
        
    <target name="clean" depends="run">
    	<delete file="AntLabRun.jar"/>
    	<delete dir="${buildLocation.dir}"/>
    	<delete dir="apidoc"/>
    </target>

</project>